{"code":"import { LunarInfo, Gan, Zhi, nStr3, nStr2, nStr1 } from \"../data/Calendar\";\n/**\n* 返回农历y年一整年的总天数\n* @param lunar Year\n* @return Number\n* @eg:var count = calendar.lYearDays(1987) ;//count=387\n*/\nconst lYearDays = function (y) {\n    let i, sum = 348;\n    for (i = 0x8000; i > 0x8; i >>= 1) {\n        sum += (LunarInfo[y - 1900] & i) ? 1 : 0;\n    }\n    ;\n    return (sum + leapDays(y));\n};\n/**\n* 返回农历y年闰月是哪个月；若y年没有闰月 则返回0\n* @param lunar Year\n* @return Number (0-12)\n* @eg:var leapMonth = calendar.leapMonth(1987) ;//leapMonth=6\n*/\nconst leapMonth = function (y) {\n    return (LunarInfo[y - 1900] & 0xf);\n};\n/**\n * 返回农历y年闰月的天数 若该年没有闰月则返回0\n * @param lunar Year\n * @return Number (0、29、30)\n * @eg:var leapMonthDay = calendar.leapDays(1987) ;//leapMonthDay=29\n */\nconst leapDays = function (y) {\n    if (leapMonth(y)) {\n        return ((LunarInfo[y - 1900] & 0x10000) ? 30 : 29);\n    }\n    return (0);\n};\n/**\n * 返回农历y年m月（非闰月）的总天数，计算m为闰月时的天数请使用leapDays方法\n * @param lunar Year\n * @return Number (-1、29、30)\n * @eg:var MonthDay = calendar.monthDays(1987,9) ;//MonthDay=29\n */\nconst monthDays = function (y, m) {\n    if (m > 12 || m < 1) {\n        return -1;\n    } //月份参数从1至12，参数错误返回-1\n    return ((LunarInfo[y - 1900] & (0x10000 >> m)) ? 30 : 29);\n};\n/**\n * 农历年份转换为干支纪年\n * @param  lYear 农历年的年份数\n * @return Cn string\n */\nconst toGanZhiYear = function (lYear) {\n    let ganKey = (lYear - 3) % 10;\n    let zhiKey = (lYear - 3) % 12;\n    if (ganKey == 0)\n        ganKey = 10; //如果余数为0则为最后一个天干\n    if (zhiKey == 0)\n        zhiKey = 12; //如果余数为0则为最后一个地支\n    return Gan[ganKey - 1] + Zhi[zhiKey - 1];\n};\n/**\n * 传入offset偏移量返回干支\n * @param offset 相对甲子的偏移量\n * @return Cn string\n */\nconst toGanZhi = function (offset) {\n    return Gan[offset % 10] + Zhi[offset % 12];\n};\n/**\n * 传入农历数字月份返回汉语通俗表示法\n * @param lunar month\n * @return Cn string\n * @eg:var cnMonth = calendar.toChinaMonth(12) ;//cnMonth='腊月'\n */\nconst toChinaMonth = function (m) {\n    if (m > 12 || m < 1) {\n        return -1;\n    } //若参数错误 返回-1\n    let s = nStr3[m - 1];\n    s += \"\\u6708\"; //加上月字\n    return s;\n};\n/**\n  * 传入农历日期数字返回汉字表示法\n  * @param lunar day\n  * @return Cn string\n  * @eg:var cnDay = calendar.toChinaDay(21) ;//cnMonth='廿一'\n  */\nconst toChinaDay = function (d) {\n    var s;\n    switch (d) {\n        case 10:\n            s = '\\u521d\\u5341';\n            break;\n        case 20:\n            s = '\\u4e8c\\u5341';\n            break;\n            break;\n        case 30:\n            s = '\\u4e09\\u5341';\n            break;\n            break;\n        default:\n            s = nStr2[Math.floor(d / 10)];\n            s += nStr1[d % 10];\n    }\n    return (s);\n};\nexport { lYearDays, leapMonth, leapDays, monthDays, toGanZhiYear, toGanZhi, toChinaMonth, toChinaDay };\n","references":["D:/Web/npm/yz-calendar-ts/src/data/Calendar.ts"]}
